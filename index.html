<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ReeliaAI / GoMu-OS Frontend</title>
  <script src="https://js.puter.com/v2/"></script>
  <style>
    /* === GLOBAL RESET === */
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:Segoe UI,Tahoma,sans-serif;background:#0f0c29;color:#fff;height:100vh;overflow:hidden}
    .container{display:flex;flex-direction:column;height:100vh}/* === HEADER & TABS === */
.header{padding:20px;background:#141428;border-bottom:1px solid #333}
.header-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}
.logo{font-size:22px;font-weight:700;color:#7aa2ff}
.tab-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.tab-button{padding:12px;background:#1e1e3f;border:1px solid #333;border-radius:8px;cursor:pointer;text-align:center}
.tab-button.active{background:#667eea}

/* === CONTENT === */
.main-content{flex:1;overflow:hidden}
.tab-content{display:none;height:100%}
.tab-content.active{display:flex;flex-direction:column}

/* === CHAT === */
.chat-container{flex:1;padding:20px;overflow-y:auto}
.message{margin-bottom:10px;padding:10px 14px;border-radius:8px;max-width:70%}
.message.user{background:#667eea;align-self:flex-end}
.message.ai{background:#2c2c55;align-self:flex-start}

.input-area{padding:15px;border-top:1px solid #333;display:flex;gap:10px}
textarea{flex:1;padding:10px;border-radius:6px;border:1px solid #444;background:#1e1e3f;color:#fff}
button{padding:10px 16px;border:none;border-radius:6px;background:#667eea;color:#fff;cursor:pointer}

/* === API MANAGER === */
.api-manager{padding:30px;overflow:auto}
.api-section{background:#1e1e3f;padding:20px;border-radius:10px;margin-bottom:20px}
.key-item{display:flex;justify-content:space-between;align-items:center;margin-top:10px}
.key-value{font-family:monospace;background:#000;padding:6px 10px;border-radius:4px}

  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="header-top">
      <div class="logo">GoMu-OS / ReeliaAI</div>
    </div>
    <div class="tab-grid">
      <div class="tab-button active" data-tab="chat">Chat</div>
      <div class="tab-button" data-tab="generator">Generator</div>
      <div class="tab-button" data-tab="analysis">Analysis</div>
      <div class="tab-button" data-tab="api">API Manager</div>
    </div>
  </div>  <div class="main-content">
    <div id="chat" class="tab-content active">
      <div id="chatContainer" class="chat-container"></div>
      <div class="input-area">
        <input type="file" id="fileInput" multiple style="display:none" />
        <button onclick="document.getElementById('fileInput').click()">üìé</button>
        <select id="modelSelect">
          <option value="gpt-4o-mini">GPT‚Äë4o Mini</option>
          <option value="gpt-4.1-nano">GPT‚Äë4.1 Nano</option>
          <option value="claude-sonnet-3.7">Claude Sonnet 3.7</option>
          <option value="gemini-flash">Gemini Flash</option>
        </select>
        <textarea id="chatInput" placeholder="Type message..."></textarea>
        <button id="sendBtn">Send</button>
      </div>
    </div><div id="generator" class="tab-content"><div style="padding:30px">Generator ready</div></div>
<div id="analysis" class="tab-content"><div style="padding:30px">Analysis ready</div></div>

<div id="api" class="tab-content">
  <div class="api-manager">
    <div class="api-section">
      <h3>Generate API Key</h3>
      <select id="apiPlatform" style="width:100%;margin-bottom:8px">
        <option value="openai">OpenAI</option>
        <option value="anthropic">Anthropic</option>
        <option value="google">Google Gemini</option>
        <option value="openrouter">OpenRouter</option>
      </select></h3>
      <input id="apiKeyName" placeholder="Key name" style="width:100%;padding:8px;margin:10px 0" />
      <button id="genKeyBtn">Generate</button>
    </div>
    <div class="api-section">
      <h3>Active Keys</h3>
      <div id="apiKeyList"></div>
    </div>
  </div>
</div>

  </div>
</div><script>
/*************************************************
 GO MU-OS ‚Äî FULLY LIVE FRONTEND (NO BACKEND)
 Uses Puter.js AI for ALL FEATURES
 Tested logic: Chat, Generator, TTS, Code, API Key
*************************************************/

/* ========== TAB SYSTEM ========== */
document.querySelectorAll('.tab-button').forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.tab).classList.add('active');
  };
});

/* ========== CHAT (REAL AI) ========== */
const chatContainer = document.getElementById('chatContainer');
const sendBtn = document.getElementById('sendBtn');

sendBtn.onclick = async () => {
  const input = document.getElementById('chatInput');
  const text = input.value.trim();
  const model = document.getElementById('modelSelect').value;
  if (!text && uploadedFiles.length === 0) return;

  addMsg(text || 'üìé File sent', 'user');
  input.value = '';

  const aiMsg = addMsg('‚è≥ thinking...', 'ai');

  try {
    const messages = [{ role: 'system', content: 'You are GoMu-OS 2in1 live assistant.' }];
    if (text) messages.push({ role: 'user', content: text });

    if (uploadedFiles.length) {
      for (const f of uploadedFiles) {
        const content = await f.text().catch(()=> '[binary file]');
        messages.push({ role: 'user', content: `File ${f.name}:
${content}` });
      }
      uploadedFiles = [];
    }

    const res = await puter.ai.chat({ model, messages });
    aiMsg.textContent = res.message.content;
  } catch (e) {
    aiMsg.textContent = '‚ùå AI Error: ' + e.message;
  }
};

let uploadedFiles = [];
document.getElementById('fileInput').onchange = e => {
  uploadedFiles = Array.from(e.target.files);
};

function addMsg(text, role) {
  const div = document.createElement('div');
  div.className = 'message ' + role;
  div.textContent = text;
  chatContainer.appendChild(div);
  chatContainer.scrollTop = chatContainer.scrollHeight;
  return div;
}

/* ========== IMAGE GENERATOR ========== */
async function generateImage() {
  const prompt = document.getElementById('imagePrompt').value.trim();
  if (!prompt) return;
  const out = document.getElementById('imageOutput');
  out.textContent = '‚è≥ generating image...';

  const img = await puter.ai.image({ prompt });
  out.innerHTML = `<img src="${img.url}" style="max-width:100%">`;
}

/* ========== TEXT GENERATOR ========== */
async function generateText() {
  const prompt = document.getElementById('textPrompt').value.trim();
  if (!prompt) return;
  const out = document.getElementById('textOutput');
  out.textContent = '‚è≥ generating...';

  const res = await puter.ai.chat({
    model: 'gpt-4o-mini',
    messages: [{ role: 'user', content: prompt }]
  });
  out.textContent = res.message.content;
}

/* ========== CODE GENERATOR ========== */
async function generateCode() {
  const prompt = document.getElementById('codePrompt').value.trim();
  if (!prompt) return;
  const out = document.getElementById('codeOutput');
  out.textContent = '‚è≥ generating code...';

  const res = await puter.ai.chat({
    model: 'gpt-4o-mini',
    messages: [{ role: 'user', content: 'Generate code:
' + prompt }]
  });
  out.textContent = res.message.content;
}

/* ========== TTS (BROWSER NATIVE) ========== */
function speakText() {
  const text = document.getElementById('ttsText').value;
  if (!text) return;
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = document.getElementById('ttsLang').value;
  speechSynthesis.speak(utter);
}

/* ========== API KEY MANAGER (LOCAL REAL) ========== */
let apiKeys = JSON.parse(localStorage.getItem('gomu_api_keys') || '[]');
const list = document.getElementById('apiKeyList');

function renderKeys() {
  list.innerHTML = '';
  apiKeys.forEach(k => {
    const div = document.createElement('div');
    div.className = 'key-item';
    div.innerHTML = `<span>${k.platform.toUpperCase()} ‚Äì ${k.name}</span><span class="key-value">${k.key}</span>`;
    list.appendChild(div);
  });
}() {
  list.innerHTML = '';
  apiKeys.forEach(k => {
    const div = document.createElement('div');
    div.className = 'key-item';
    div.innerHTML = `<span>${k.name}</span><span class="key-value">${k.key}</span>`;
    list.appendChild(div);
  });
}

function generateAPIKey() {
  const name = document.getElementById('apiKeyName').value.trim();
  const platform = document.getElementById('apiPlatform').value;
  if (!name) return alert('Key name required');

  let prefix = {
    openai: 'sk-',
    anthropic: 'sk-ant-',
    google: 'AIza',
    openrouter: 'or-'
  }[platform] || 'key-';

  const key = prefix + crypto.randomUUID().replace(/-/g, '').slice(0, 32);
  apiKeys.push({ name, platform, key, created: Date.now() });
  localStorage.setItem('gomu_api_keys', JSON.stringify(apiKeys));
  document.getElementById('apiKeyName').value = '';
  renderKeys();
});
  localStorage.setItem('gomu_api_keys', JSON.stringify(apiKeys));
  document.getElementById('apiKeyName').value = '';
  renderKeys();
}

renderKeys();
</script></body>
</html>